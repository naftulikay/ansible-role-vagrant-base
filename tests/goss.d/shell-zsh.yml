---
package:
  zsh:
    installed: true

file:
  # test that the magic exists
  /home/vagrant/.zshrc:
    exists: true
    mode: "0750"
    owner: vagrant
    group: vagrant
    filetype: file
    contains:
      - "#!/usr/bin/env zsh"
      - "if [ $(history 2>/dev/null | wc -l) -eq 0 ]; then"
      - "cd \"/vagrant\""

user:
  vagrant:
    exists: true
    home: /home/vagrant
    shell:
      or:
        - "/bin/zsh"
        - "/usr/bin/zsh"
